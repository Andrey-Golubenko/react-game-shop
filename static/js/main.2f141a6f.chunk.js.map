{"version":3,"sources":["components/Header.tsx","components/Footer.tsx","components/Preloader.tsx","components/GoodsItem.tsx","components/GoodsList.tsx","components/Cart.tsx","components/BasketItem.tsx","components/BasketList.tsx","components/Tooltip.tsx","components/Shop.tsx","config.js","App.tsx","index.tsx"],"names":["Header","className","href","id","target","Footer","Date","getFullYear","Preloader","GoodsItem","props","mainId","displayName","displayDescription","price","displayAssets","addOrderItem","Function","prototype","itemImage","itemPrice","finalPrice","src","full_background","alt","onClick","GoodsList","goods","length","map","good","Cart","quantity","basketShow","BasketItem","orderQuantity","deleteOrderItem","addOrderQuantity","deleteOrderQuantity","BasketList","order","totalPrice","reduce","sum","item","Tooltip","name","closeToolTip","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShoe","toolTipName","setToolTipName","fetch","headers","process","then","response","json","data","shop","handleBasketShow","prev","itemIndex","findIndex","orderItem","newItem","newOrder","index","newOrderSet","filter","elem","newOrderItemQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f141a6f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Header: React.FunctionComponent = () => {\r\n    return <nav className=\"purple darken-2\">\r\n                <div className=\"nav-wrapper\">\r\n                    <a href=\"https://andrey-golubenko.github.io/react-game-shop\" className=\"brand-logo\">React Shop</a>\r\n                    <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                        <li><a href=\"https://github.com/Andrey-Golubenko/react-game-shop.git\" target=\"_blank\">Repo</a></li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n};","import React from 'react'\r\n\r\nexport const Footer: React.FunctionComponent = () => {\r\n    return (\r\n        <footer className=\"page-footer purple darken-2\">\r\n            <div className=\"footer-copyright purple darken-2\">\r\n                <div className=\"container\">\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/Andrey-Golubenko/react-game-shop.git\" target=\"_blank\">Repo</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n};","import React from 'react'\r\n\r\nexport const Preloader: React.FunctionComponent = () => {\r\n    return (\r\n        <div className=\"progress purple accent-1\">\r\n            <div className=\"indeterminate purple darken-3\" />\r\n        </div>\r\n    )\r\n\r\n};","import React from 'react'\r\nimport {IGoods, IAddOrderItem} from \"../interfaces\";\r\n\r\n\r\nexport const GoodsItem: React.FC <IGoods & IAddOrderItem> = (props) => {\r\n\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        displayDescription,\r\n        price,\r\n        displayAssets,\r\n        addOrderItem = Function.prototype\r\n    } = props;\r\n\r\n    const itemImage = displayAssets[0] ;\r\n    const itemPrice = price.finalPrice;\r\n\r\n    return (\r\n            <div className=\"card\" id={ mainId }>\r\n                <div className=\"card-image\">\r\n                    <img src={ itemImage.full_background }  alt=\"\"/>\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    <span className=\"card-title\">{ displayName }</span>\r\n                    <p>{ displayDescription }</p>\r\n                </div>\r\n                <div className=\"card-action\">\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={ () => addOrderItem({\r\n                            mainId,\r\n                            displayName,\r\n                            itemPrice\r\n                            } ) }\r\n                    >Купить</button>\r\n                    <span className=\"right\">{ itemPrice } $</span>\r\n                </div>\r\n            </div>\r\n    )\r\n};","import React from 'react'\r\nimport {GoodsItem} from \"./GoodsItem\";\r\nimport {IGoodsListProps} from \"../interfaces\";\r\n\r\n\r\nexport const GoodsList: React.FC <IGoodsListProps> = (props) => {\r\n\r\n    const { goods = [], addOrderItem } = props;\r\n\r\n    if (!goods.length) {\r\n        return (\r\n            <h3>Nothing find</h3>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"goods\">\r\n            {\r\n                goods.map(good => {\r\n                    return <GoodsItem\r\n                        key={good.mainId}\r\n                        {...good}\r\n                        addOrderItem={ addOrderItem }\r\n                    />\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n};","import React from 'react'\r\nimport {ICartProps} from \"../interfaces\";\r\n\r\nexport const Cart:React.FC <ICartProps>= (props) => {\r\n    const { quantity = 0, basketShow } = props;\r\n\r\n    return (\r\n        <div\r\n            className=\"cart blue darken-4 white-text\"\r\n            onClick={ basketShow }\r\n        >\r\n            <i className=\"material-icons\">local_grocery_store</i>\r\n            <span className=\"cart-quantity\">{ quantity }</span>\r\n        </div>\r\n\r\n    )\r\n\r\n};","import React from 'react'\r\nimport {IBasketItemProps} from \"../interfaces\";\r\n\r\nexport const BasketItem: React.FC<IBasketItemProps> = (props) => {\r\n\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        itemPrice,\r\n        orderQuantity,\r\n        deleteOrderItem,\r\n        addOrderQuantity,\r\n        deleteOrderQuantity\r\n    } = props;\r\n\r\n\r\n    return (\r\n        <li className=\"collection-item\" id={mainId}>\r\n            { displayName }, в количестве -\r\n            <span className=\"basket-quantity\">\r\n                <i className=\"material-icons add-quantity\" onClick={ () => addOrderQuantity (mainId) }>add_circle_outline</i>\r\n                { orderQuantity }\r\n                <i className=\"material-icons delete-quantity\" onClick={ () => deleteOrderQuantity(mainId) }>remove_circle_outline</i>,\r\n            </span>\r\n            на сумму - { itemPrice * orderQuantity! } $\r\n            <span className=\"secondary-content\">\r\n                <i className=\"material-icons basket-item-delete\" onClick={ () => deleteOrderItem (mainId) }>close</i>\r\n            </span>\r\n        </li>\r\n    )\r\n\r\n};","import React from 'react'\r\nimport {IBasketListProps} from '../interfaces'\r\nimport {BasketItem} from \"./BasketItem\";\r\n\r\nexport const BasketList: React.FC <IBasketListProps> = (props) => {\r\n\r\n    const { order = [],\r\n        basketShow,\r\n        deleteOrderItem,\r\n        addOrderQuantity,\r\n        deleteOrderQuantity\r\n    } = props;\r\n    const totalPrice = order.reduce((sum, item) => sum + item.itemPrice * item.orderQuantity!, 0);\r\n\r\n    return (\r\n        <ul className=\"collection basket-list\">\r\n            <li className=\"collection-item active purple darken-1\">Корзина</li>\r\n            { order.length ? (\r\n                    order.map(item =>\r\n                        <BasketItem\r\n                           key={item.mainId}\r\n                           deleteOrderItem={ deleteOrderItem }\r\n                           addOrderQuantity={ addOrderQuantity }\r\n                           deleteOrderQuantity = { deleteOrderQuantity }\r\n                           { ...item }\r\n                        /> ) ) : (\r\n                        <li className=\"collection-item\">Корзина пуста!</li> ) }\r\n            <li className=\"collection-item active purple darken-1 basket-bottom\"><span>Общая стомость: { totalPrice } $</span><button className=\"btn btn-small purple darken-3 checkout-order\">Оформить</button>\r\n            </li>\r\n            <i className=\"material-icons basket-close\" onClick={ basketShow }>close</i>\r\n        </ul>\r\n    )\r\n};","import React, {useEffect} from 'react'\r\nimport {ITooltipProps} from \"../interfaces\";\r\n\r\nexport const Tooltip : React.FC <ITooltipProps>= (props) => {\r\n\r\n    const { name, closeToolTip } = props;\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeToolTip, 3000);\r\n\r\n        return () => {\r\n            clearTimeout(timerId)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [name]);\r\n\r\n    return ( <div id=\"toast-container\" className=\"tooltip-container\">\r\n                <div className=\"toast\">{name } добавлен в корзину</div>\r\n             </div>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport {Preloader} from './Preloader'\r\nimport {GoodsList} from \"./GoodsList\";\r\nimport {IGoods, IOrderItem} from '../interfaces'\r\nimport {Cart} from \"./Cart\";\r\nimport {BasketList} from \"./BasketList\";\r\nimport {API_KEY, API_URL} from \"../config\";\r\nimport {Tooltip} from \"./Tooltip\";\r\n\r\nexport const Shop: React.FC = () => {\r\n    const [goods, setGoods]     = useState <IGoods[]> ([]);\r\n    const [loading, setLoading] = useState <boolean>(true);\r\n    const [order, setOrder]     = useState <IOrderItem[]>([]);\r\n    const [isBasketShow, setBasketShoe] = useState <boolean>(false);\r\n    const [toolTipName, setToolTipName] = useState <string>('');\r\n\r\n    useEffect(() => {\r\n        fetch(API_URL, {\r\n            headers : {\r\n                'Authorization': API_KEY as string\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                data.shop && setGoods(data.shop);\r\n                setLoading(false);\r\n            })\r\n    }, []);\r\n\r\n    const addOrderItem = (item: IOrderItem) => {\r\n        const itemIndex= order.findIndex(orderItem => orderItem.mainId === item.mainId);\r\n\r\n        if (itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                orderQuantity: 1\r\n            };\r\n            setOrder(prev =>[ ...prev, newItem ] );\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if (index === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        orderQuantity: orderItem.orderQuantity! + 1\r\n                    }\r\n                } else {\r\n                    return orderItem\r\n                }\r\n            });\r\n            setOrder(newOrder)\r\n        }\r\n        setToolTipName(item.displayName)\r\n    };\r\n\r\n    const deleteOrderItem = (mainId: string) => {\r\n        const newOrderSet = order.filter(elem => elem.mainId !== mainId);\r\n        setOrder(newOrderSet);\r\n    };\r\n\r\n    const addOrderQuantity = (mainId: string) => {\r\n        const newOrderItemQuantity = order.map(orderItem => {\r\n            if (orderItem.mainId === mainId) {\r\n                return {\r\n                    ...orderItem,\r\n                    orderQuantity: orderItem.orderQuantity! + 1\r\n                }\r\n            }\r\n            return orderItem\r\n        });\r\n        setOrder(newOrderItemQuantity);\r\n    };\r\n\r\n    const deleteOrderQuantity = (mainId: string) => {\r\n        const newOrderItemQuantity = order.map(orderItem => {\r\n            if (orderItem.mainId === mainId && orderItem.orderQuantity! > 1) {\r\n                return {\r\n                    ...orderItem,\r\n                    orderQuantity: orderItem.orderQuantity! - 1\r\n                }\r\n            }\r\n            return orderItem\r\n        });\r\n        setOrder(newOrderItemQuantity);\r\n    };\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketShoe(prev => !prev);\r\n    };\r\n\r\n    const closeToolTip = () => {\r\n        setToolTipName('')\r\n    };\r\n\r\n    return (\r\n        <main className=\"container content\">\r\n            <Cart\r\n                quantity={order.length}\r\n                basketShow={ handleBasketShow }\r\n            />\r\n            {\r\n                loading ? <Preloader /> :\r\n                    <GoodsList\r\n                        goods={ goods }\r\n                        addOrderItem={ addOrderItem }\r\n                    />\r\n            }\r\n            {\r\n                isBasketShow && <BasketList\r\n                             order={ order }\r\n                             basketShow={ handleBasketShow }\r\n                             deleteOrderItem = { deleteOrderItem }\r\n                             addOrderQuantity = { addOrderQuantity }\r\n                             deleteOrderQuantity = {deleteOrderQuantity}\r\n                           />\r\n            }\r\n            {\r\n                toolTipName && <Tooltip\r\n                               name={ toolTipName }\r\n                               closeToolTip={ closeToolTip }\r\n                            />\r\n            }\r\n        </main>\r\n    )\r\n};","export const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nexport const API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';","import React from 'react';\nimport {Header} from './components/Header';\nimport {Footer} from './components/Footer'\nimport {Shop} from './components/Shop'\n\n\nconst App: React.FC = () => {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}