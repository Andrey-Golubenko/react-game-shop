(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{14:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(8),l=r.n(c),i=(r(14),r(0)),o=function(){return Object(i.jsx)("nav",{className:"purple darken-2",children:Object(i.jsxs)("div",{className:"nav-wrapper",children:[Object(i.jsx)("a",{href:"https://andrey-golubenko.github.io/react-game-shop",className:"brand-logo",children:"React Shop"}),Object(i.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/Andrey-Golubenko/react-game-shop.git",target:"_blank",rel:"noreferrer",children:"Repo"})})})]})})},s=function(){return Object(i.jsx)("footer",{className:"page-footer purple darken-2",children:Object(i.jsx)("div",{className:"footer-copyright purple darken-2",children:Object(i.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright Text",Object(i.jsx)("a",{className:"grey-text text-lighten-4 right",href:"https://github.com/Andrey-Golubenko/react-game-shop.git",target:"_blank",rel:"noreferrer",children:"Repo"})]})})})},d=function(){return Object(i.jsx)("div",{className:"progress purple accent-1",children:Object(i.jsx)("div",{className:"indeterminate purple darken-3"})})},u=r(2),b=r(3),j=r(9),p="CLOSE_TOOLTIP",f="BASKET_SHOW",m="ADD_ORDER_ITEM",O="DELETE_ORDER_ITEM",h="ADD_ORDER_QUANTITY",v="DELETE_ORDER_QUANTITY",g="SET_GOODS",y=function(e,t){var r=t.type,n=t.payload;switch(r){case m:var a,c=null,l=e.order.findIndex((function(e){return e.mainId===n.orderItem.mainId}));if(l<0){var i=Object(u.a)(Object(u.a)({},n.orderItem),{},{orderQuantity:1});c=[].concat(Object(j.a)(e.order),[i])}else c=e.order.map((function(e,t){return t===l?Object(u.a)(Object(u.a)({},e),{},{orderQuantity:e.orderQuantity+1}):e}));return Object(u.a)(Object(u.a)({},e),{},{order:c,tooltipName:null===n||void 0===n||null===(a=n.orderItem)||void 0===a?void 0:a.displayName});case O:return Object(u.a)(Object(u.a)({},e),{},{order:e.order.filter((function(e){return e.mainId!==(null===n||void 0===n?void 0:n.mainId)}))});case h:return Object(u.a)(Object(u.a)({},e),{},{order:e.order.map((function(e){return e.mainId===n.mainId?Object(u.a)(Object(u.a)({},e),{},{orderQuantity:e.orderQuantity+1}):e}))});case v:return Object(u.a)(Object(u.a)({},e),{},{order:e.order.map((function(e){return e.mainId===n.mainId&&e.orderQuantity>0?Object(u.a)(Object(u.a)({},e),{},{orderQuantity:e.orderQuantity-1}):e}))});case f:return Object(u.a)(Object(u.a)({},e),{},{isBasketShow:!e.isBasketShow});case p:return Object(u.a)(Object(u.a)({},e),{},{tooltipName:""});case g:return Object(u.a)(Object(u.a)({},e),{},{goods:n.goods||[],loading:!1});default:return e}},x=Object(n.createContext)({}),w=function(){return Object(n.useContext)(x)},I=function(e){var t=Object(n.useReducer)(y,{goods:[],loading:!0,order:[],isBasketShow:!1,tooltipName:""}),r=Object(b.a)(t,2),a=r[0],c=r[1];return a.setGoods=function(e){return c({type:g,payload:{goods:e}})},a.addOrderItem=function(e){c({type:m,payload:{orderItem:e}})},a.deleteOrderItem=function(e){c({type:O,payload:{mainId:e}})},a.addOrderQuantity=function(e){c({type:h,payload:{mainId:e}})},a.deleteOrderQuantity=function(e){c({type:v,payload:{mainId:e}})},a.handleBasketShow=function(){c({type:f})},a.closeTooltip=function(){c({type:p})},Object(i.jsx)(x.Provider,{value:a,children:e.children})},N=r(5),E=r.n(N);var k,S,_,L=function(e){var t=e.src,r=e.alt,a=void 0===r?"":r,c=e.onLoad,l=void 0===c?function(){}:c,o=Object(n.useState)(!1),s=Object(b.a)(o,2),d=s[0],u=s[1],j=Object(n.useRef)(null),p=Object(n.useRef)(null),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px",r=Object(n.useState)(!1),a=Object(b.a)(r,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){var r=new IntersectionObserver((function(e){var t=Object(b.a)(e,1)[0];l(t.isIntersecting)}),{rootMargin:t});e.current&&r.observe(e.current);var n=e.current;return function(){r.unobserve(n)}}),[]),c}(p);Object(n.useEffect)((function(){f&&!d&&j.current&&(j.current.onload=function(){u(!0),l()})}),[f,l,d]);var m=[E.a.container];d&&m.push(E.a.containerLoaded);var O=[E.a.image];return d&&O.push(E.a.imageLoaded),Object(i.jsx)("div",{ref:p,className:m.join(" "),children:(f||d)&&Object(i.jsx)("img",{ref:j,className:O.join(" "),src:t,alt:a})})},P=function(e){var t=e.mainId,r=e.displayName,n=e.displayDescription,a=e.price,c=e.displayAssets[0],l=a.finalPrice,o=w().addOrderItem;return Object(i.jsxs)("div",{className:"card",id:t,children:[Object(i.jsx)("div",{className:"card-image",children:Object(i.jsx)(L,{src:c.full_background})}),Object(i.jsxs)("div",{className:"card-content",children:[Object(i.jsx)("span",{className:"card-title",children:r}),Object(i.jsx)("p",{children:n})]}),Object(i.jsxs)("div",{className:"card-action",children:[Object(i.jsx)("button",{className:"btn",onClick:function(){return o({mainId:t,displayName:r,itemPrice:l})},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(i.jsxs)("span",{className:"right",children:[l," $"]})]})]})},C=function(){var e=w().goods,t=void 0===e?[]:e;return t.length?Object(i.jsx)("div",{className:"goods",children:t.map((function(e){return Object(i.jsx)(P,Object(u.a)({},e),e.mainId)}))}):Object(i.jsx)("h3",{children:"Nothing find"})},R=["title","titleId"];function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M(e,t){var r=e.title,a=e.titleId,c=z(e,R);return n.createElement("svg",B({height:"414pt",viewBox:"0 -11 414.00053 414",width:"414pt",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,k||(k=n.createElement("path",{d:"m202.480469 352.128906c0-21.796875-17.671875-39.46875-39.46875-39.46875-21.800781 0-39.472657 17.667969-39.472657 39.46875 0 21.800782 17.671876 39.472656 39.472657 39.472656 21.785156-.023437 39.445312-17.683593 39.46875-39.472656zm0 0"})),S||(S=n.createElement("path",{d:"m348.445312 348.242188c2.148438 21.691406-13.695312 41.019531-35.390624 43.167968-21.691407 2.148438-41.015626-13.699218-43.164063-35.390625-2.148437-21.691406 13.695313-41.019531 35.386719-43.167969 21.691406-2.148437 41.019531 13.699219 43.167968 35.390626zm0 0"})),_||(_=n.createElement("path",{d:"m412.699219 63.554688c-1.3125-1.84375-3.433594-2.941407-5.699219-2.941407h-311.386719l-3.914062-24.742187c-3.191407-20.703125-21.050781-35.9531252-42-35.871094h-42.699219c-3.867188 0-7 3.132812-7 7s3.132812 7 7 7h42.699219c14.050781-.054688 26.03125 10.175781 28.171875 24.0625l33.800781 213.515625c3.191406 20.703125 21.050781 35.957031 42 35.871094h208.929687c3.863282 0 7-3.132813 7-7 0-3.863281-3.136718-7-7-7h-208.929687c-14.050781.054687-26.03125-10.175781-28.171875-24.0625l-5.746094-36.300781h213.980469c18.117187-.007813 34.242187-11.484376 40.179687-28.597657l39.699219-114.578125c.742188-2.140625.402344-4.511718-.914062-6.355468zm0 0"})))}var T,Q=n.forwardRef(M),D=(r.p,function(){var e=w(),t=e.order,r=e.handleBasketShow;return Object(i.jsxs)("div",{className:"cart blue darken-4 white-text",onClick:r,children:[Object(i.jsx)(Q,{className:"shopping-cart-icon"}),Object(i.jsx)("span",{className:"cart-quantity",children:null===t||void 0===t?void 0:t.length})]})}),A=["title","titleId"];function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V(e,t){var r=e.title,a=e.titleId,c=G(e,A);return n.createElement("svg",H({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 251.882 251.882",fill:"#00dc00",style:{enableBackground:"new 0 0 251.882 251.882"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,T||(T=n.createElement("g",null,n.createElement("path",{d:"M215.037,36.846c-49.129-49.128-129.063-49.128-178.191,0c-49.127,49.127-49.127,129.063,0,178.19 c24.564,24.564,56.83,36.846,89.096,36.846s64.531-12.282,89.096-36.846C264.164,165.909,264.164,85.973,215.037,36.846z  M49.574,202.309c-42.109-42.109-42.109-110.626,0-152.735c21.055-21.054,48.711-31.582,76.367-31.582s55.313,10.527,76.367,31.582 c42.109,42.109,42.109,110.626,0,152.735C160.199,244.417,91.683,244.417,49.574,202.309z"}),n.createElement("path",{d:"M194.823,116.941h-59.882V57.059c0-4.971-4.029-9-9-9s-9,4.029-9,9v59.882H57.059c-4.971,0-9,4.029-9,9s4.029,9,9,9h59.882 v59.882c0,4.971,4.029,9,9,9s9-4.029,9-9v-59.882h59.882c4.971,0,9-4.029,9-9S199.794,116.941,194.823,116.941z"}))))}var q,Y=n.forwardRef(V),F=(r.p,["title","titleId"]);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K(e,t){var r=e.title,a=e.titleId,c=J(e,F);return n.createElement("svg",$({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 251.882 251.882",fill:"#ff0000",style:{enableBackground:"new 0 0 251.882 251.882"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,q||(q=n.createElement("g",null,n.createElement("path",{d:"M215.037,36.846c-49.129-49.128-129.063-49.128-178.191,0c-49.127,49.127-49.127,129.063,0,178.19 c24.564,24.564,56.83,36.846,89.096,36.846s64.531-12.282,89.096-36.846C264.164,165.909,264.164,85.973,215.037,36.846z  M49.574,202.309c-42.109-42.109-42.109-110.626,0-152.735c21.055-21.054,48.711-31.582,76.367-31.582s55.313,10.527,76.367,31.582 c42.109,42.109,42.109,110.626,0,152.735C160.199,244.417,91.683,244.417,49.574,202.309z"}),n.createElement("path",{d:"M194.823,116.941H57.059c-4.971,0-9,4.029-9,9s4.029,9,9,9h137.764c4.971,0,9-4.029,9-9S199.794,116.941,194.823,116.941z"}))))}var U,W=n.forwardRef(K),Z=(r.p,["title","titleId"]);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ee(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function te(e,t){var r=e.title,a=e.titleId,c=ee(e,Z);return n.createElement("svg",X({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 473 473",fill:"#ff0000",style:{enableBackground:"new 0 0 473 473"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,U||(U=n.createElement("g",null,n.createElement("path",{d:"M317.667,214.42l5.667-86.42h20.951V38h-98.384V0H132.669v38H34.285v90h20.951l20,305h140.571 c23.578,24.635,56.766,40,93.478,40c71.368,0,129.43-58.062,129.43-129.43C438.715,275.019,385.143,218.755,317.667,214.42z  M162.669,30h53.232v8h-53.232V30z M64.285,68h250v30h-250V68z M103.334,403L85.301,128H293.27l-5.77,87.985 c-61.031,10.388-107.645,63.642-107.645,127.586c0,21.411,5.231,41.622,14.475,59.43H103.334z M309.285,443 c-54.826,0-99.43-44.604-99.43-99.43s44.604-99.429,99.43-99.429s99.43,44.604,99.43,99.429S364.111,443,309.285,443z"}),n.createElement("polygon",{points:"342.248,289.395 309.285,322.358 276.322,289.395 255.109,310.608 288.072,343.571 255.109,376.533  276.322,397.746 309.285,364.783 342.248,397.746 363.461,376.533 330.498,343.571 363.461,310.608  "}))))}var re,ne=n.forwardRef(te),ae=(r.p,function(e){var t=e.mainId,r=e.displayName,n=e.itemPrice,a=e.orderQuantity,c=w(),l=c.deleteOrderItem,o=c.addOrderQuantity,s=c.deleteOrderQuantity;return Object(i.jsxs)("li",{className:"collection-item basket-item",id:t,children:[Object(i.jsxs)("span",{className:"order-content",children:[Object(i.jsxs)("span",{className:"basket-item-name",children:[r,", \u0432 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 -"]}),Object(i.jsxs)("span",{className:"basket-quantity",children:[Object(i.jsx)(Y,{className:"add-quantity",onClick:function(){return o(t)}}),a,Object(i.jsx)(W,{className:"material-icons delete-quantity",onClick:function(){return s(t)}}),","]}),Object(i.jsxs)("span",{className:"basket-item-price",children:["\u043d\u0430 \u0441\u0443\u043c\u043c\u0443 = ",n*a," $"]})]}),Object(i.jsx)("span",{className:"removal-tool",children:Object(i.jsx)(ne,{className:"basket-item-delete",onClick:function(){return l(t)}})})]})}),ce=["title","titleId"];function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oe(e,t){var r=e.title,a=e.titleId,c=ie(e,ce);return n.createElement("svg",le({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"94.926px",height:"94.926px",viewBox:"0 0 94.926 94.926",fill:"#fff",style:{enableBackground:"new 0 0 94.926 94.926"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,re||(re=n.createElement("g",null,n.createElement("path",{d:"M55.931,47.463L94.306,9.09c0.826-0.827,0.826-2.167,0-2.994L88.833,0.62C88.436,0.224,87.896,0,87.335,0 c-0.562,0-1.101,0.224-1.498,0.62L47.463,38.994L9.089,0.62c-0.795-0.795-2.202-0.794-2.995,0L0.622,6.096 c-0.827,0.827-0.827,2.167,0,2.994l38.374,38.373L0.622,85.836c-0.827,0.827-0.827,2.167,0,2.994l5.473,5.476 c0.397,0.396,0.936,0.62,1.498,0.62s1.1-0.224,1.497-0.62l38.374-38.374l38.374,38.374c0.397,0.396,0.937,0.62,1.498,0.62 s1.101-0.224,1.498-0.62l5.473-5.476c0.826-0.827,0.826-2.167,0-2.994L55.931,47.463z"}))))}var se=n.forwardRef(oe),de=(r.p,function(){var e=w(),t=e.order,r=void 0===t?[]:t,n=e.handleBasketShow,a=r.reduce((function(e,t){return e+t.itemPrice*t.orderQuantity}),0);return Object(i.jsxs)("ul",{className:"collection basket-list",children:[Object(i.jsx)("li",{className:"collection-item active purple darken-1",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),r.length?r.map((function(e){return Object(i.jsx)(ae,Object(u.a)({},e),e.mainId)})):Object(i.jsx)("li",{className:"collection-item",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430!"}),Object(i.jsxs)("li",{className:"collection-item active purple darken-1 basket-bottom",children:[Object(i.jsxs)("span",{children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u043c\u043e\u0441\u0442\u044c: ",a," $"]}),Object(i.jsx)("button",{className:"btn btn-small purple darken-3 checkout-order",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})]}),Object(i.jsx)(se,{className:"basket-close",onClick:n})]})}),ue=function(){var e=w(),t=e.tooltipName,r=e.closeTooltip;return Object(n.useEffect)((function(){var e=setTimeout(r,3e3);return function(){clearTimeout(e)}}),[t]),Object(i.jsx)("div",{id:"toast-container",className:"tooltip-container",children:Object(i.jsxs)("div",{className:"toast",children:[t," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"]})})},be=function(){var e=w(),t=e.setGoods,r=e.loading,a=e.isBasketShow,c=e.tooltipName;return Object(n.useEffect)((function(){fetch("https://fortniteapi.io/v2/shop?lang=ru",{headers:{Authorization:"9e45aac3-83e47290-ef35bedb-1dfeb2e2"}}).then((function(e){return e.json()})).then((function(e){t(e.shop)}))}),[]),Object(i.jsxs)("main",{className:"container content",children:[Object(i.jsx)(D,{}),r?Object(i.jsx)(d,{}):Object(i.jsx)(C,{}),a&&Object(i.jsx)(de,{}),c&&Object(i.jsx)(ue,{})]})},je=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o,{}),Object(i.jsx)(I,{children:Object(i.jsx)(be,{})}),Object(i.jsx)(s,{})]})};l.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(je,{})}),document.getElementById("root"))},5:function(e,t,r){e.exports={container:"LoadableImage_container__1r22s",load:"LoadableImage_load__1MzDA",containerLoaded:"LoadableImage_containerLoaded__2i4yF",image:"LoadableImage_image__2SH0H",imageLoaded:"LoadableImage_imageLoaded__38ZYK"}}},[[16,1,2]]]);
//# sourceMappingURL=main.48459a85.chunk.js.map